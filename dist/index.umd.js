(function(t,y){typeof exports=="object"&&typeof module!="undefined"?module.exports=y(require("vue")):typeof define=="function"&&define.amd?define(["vue"],y):(t=typeof globalThis!="undefined"?globalThis:t||self,t.CountTo=y(t.Vue))})(this,function(t){"use strict";function y(){let e=0;const c=typeof window=="undefined";let n,a;return c?(n=function(){return 0},a=function(){}):(n=window.requestAnimationFrame,a=window.cancelAnimationFrame,typeof n!="function"&&typeof a!="function"&&(n=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,a=window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame),(!n||!a)&&(n=function(u){const o=new Date().getTime(),m=Math.max(0,16-(o-e)),s=window.setTimeout(()=>{u(o+m)},m);return e=o+m,s},a=function(u){window.clearTimeout(u)})),{requestAnimationFrame:n,cancelAnimationFrame:a}}var N=(e,c)=>{const n=e.__vccOpts||e;for(const[a,u]of c)n[a]=u;return n};const S=t.defineComponent({name:"CountTo",emits:["mountedCallback","callback"],props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimal:{type:String,required:!1,default:"."},decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Object,required:!1,default:void 0}},setup(e,c){const n=(f,l,q,w)=>q*(-Math.pow(2,-10*f/w)+1)*1024/1023+l,a=e.easingFn||n,u=f=>!isNaN(parseFloat(f)),o=(f=0)=>{let l=f.toFixed(e.decimals);l+="";const q=l.split(".");let w=q[0];const D=q.length>1?e.decimal+q[1]:"",k=/(\d+)(\d{3})/;if(e.separator&&!u(e.separator))for(;k.test(w);)w=w.replace(k,"$1"+e.separator+"$2");return e.prefix+w+D+e.suffix},m=t.ref(o(e.startVal));let s=0,h=0,d=e.duration||3e3,r=e.startVal||0,i=0,F=!1,V=0;const{requestAnimationFrame:g,cancelAnimationFrame:A}=y(),b=t.computed(()=>e.startVal>e.endVal),x=f=>{s||(s=f);const l=f-s;h=d-l,e.useEasing?b.value?i=r-a(l,0,r-e.endVal,d):i=a(l,r,e.endVal-r,d):b.value?i=r-(r-e.endVal)*(l/d):i=r+(e.endVal-r)*(l/d),b.value?i=i<e.endVal?e.endVal:i:i=i>e.endVal?e.endVal:i,m.value=o(i),l<d?V=g(x):c.emit("callback")},T=()=>{r=e.startVal,s=0,d=e.duration,F=!1,V=g(x)},C=()=>{A(V)},_=()=>{s=0,d=+h,r=+i,g(x)},$=()=>{s=0,A(V),m.value=o(e.startVal)},B=()=>{F?(_(),F=!1):(C(),F=!0)};return t.onBeforeUnmount(()=>{A(V)}),t.onMounted(()=>{e.autoplay&&T(),c.emit("mountedCallback")}),t.watch(()=>e.startVal+e.endVal,()=>{e.autoplay&&T()}),{displayValue:m,start:T,pause:C,resume:_,reset:$,pauseResume:B}}});function R(e,c,n,a,u,o){return t.openBlock(),t.createElementBlock("span",null,t.toDisplayString(e.displayValue),1)}var v=N(S,[["render",R]]);return v});
